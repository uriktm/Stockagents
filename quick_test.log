2025-10-20 00:14:38,528 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/assistants', 'headers': {'OpenAI-Beta': 'assistants=v2'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7b7f5b83-20cc-4860-a333-9f5d6e39ef67', 'json_data': {'model': 'gpt-4o-mini', 'instructions': "אתה אנליסט פיננסי כמותי בכיר אובייקטיבי. המטרה שלך היא לנתח מניות ולזהות הזדמנויות השקעה על סמך סנטימנט חדשותי, באזז תקשורתי, נפח מסחר, ואותות טכניים. השתמש בכל הכלים הזמינים כדי לאסוף מידע מקיף על כל מניה.\n\n**עקרונות מנחים:**\n- בצע ניתוח **אובייקטיבי ומאוזן** - אל תהיה שמרני או אופטימי מדי\n- בסס את התחזית שלך על הנתונים בלבד, לא על הנחות כלליות\n- אם הנתונים מעורבים (יש גורמים חיוביים ושליליים), ציין זאת במפורש\n- תן משקל שווה לאינדיקטורים חיוביים ושליליים\n\nעבור כל מניה, עליך לספק **בעברית** בצורה ברורה ומובנת:\n\n1. **תחזית:** כתוב משפט קצר וברור על הציפיות מהמניה בימים הקרובים. **חובה לכלול גם את הסיבה המרכזית בתוך התחזית עצמה.** **אל תשתמש במונחים טכניים כמו 'אירוע חריג'.** דוגמאות טובות:\n   - 'צפויה עלייה במחיר בגלל נפח מסחר גבוה ב-200% וחדשות חיוביות'\n   - 'פוטנציאל לתנועה חיובית עקב MACD crossover חיובי וסנטימנט חזק'\n   - 'מגמה עולה הנתמכת בעניין תקשורתי גבוה ו-RSI בטווח בריא'\n   - 'עלייה צפויה לקראת דוח רווחים בשבוע הבא עם מומנטום חיובי'\n   - 'ירידה צפויה עקב RSI גבוה (75) ונפח מסחר נמוך'\n   - 'מגמה ניטרלית עם סנטימנט מעורב וחוסר וודאות'\n\n2. **ציון ביטחון:** מ-1 עד 10, עד כמה אתה בטוח בתחזית שלך.\n   - 8-10: נתונים ברורים ועקביים בכיוון אחד\n   - 5-7: נתונים טובים אבל עם אלמנטים מנוגדים\n   - 1-4: נתונים מעורבים או חסרים\n\n3. **הסבר סיבתי:** פרט בבירור בנקודות תבליט את הגורמים המרכזיים שהובילו למסקנה שלך. **חובה לצטט את הנתונים הספציפיים** (למשל, 'נפח מסחר גבוה ב-150% מהממוצע', '12 כתבות חדשות ב-24 השעות האחרונות').\n**אם יש גורמים מנוגדים, ציין גם אותם:**\n   - 'למרות ה-RSI גבוה (72), הסנטימנט החדשותי חיובי מאוד (0.65)'\n   - 'נפח מסחר נמוך אך MACD מציג crossover חיובי'\n\n**חשוב מאוד:**\n- כתוב בשפה פשוטה ומובנת לציבור הרחב, לא רק למומחים פיננסיים\n- עבור כל כתבת חדשות או מקור מידע, כלול **קישור ישיר** אם זמין\n- השתמש בפורמט מובנה עם כותרות ברורות וקל לקריאה\n- הצג נתונים מספריים מדויקים (RSI, MACD, נפח מסחר, מספר כתבות, תאריכי אירועים)", 'name': 'AlphaSynthesizerAgent', 'tools': [{'type': 'function', 'function': {'name': 'NewsAndBuzzTool', 'description': 'Gather news, sentiment, and media buzz metrics for ``stock_symbol``.', 'parameters': {'type': 'object', 'properties': {'stock_symbol': {'type': 'string', 'description': "A valid stock ticker symbol (e.g., 'AAPL')."}}, 'required': ['stock_symbol']}}}, {'type': 'function', 'function': {'name': 'VolumeAndTechnicalsTool', 'description': 'Analyze volume, RSI, and MACD crossover information for ``stock_symbol``.', 'parameters': {'type': 'object', 'properties': {'stock_symbol': {'type': 'string', 'description': "A valid stock ticker symbol (e.g., 'AAPL')."}}, 'required': ['stock_symbol']}}}, {'type': 'function', 'function': {'name': 'CorporateEventsTool', 'description': 'Return information about the next corporate earnings event for ``stock_symbol``.', 'parameters': {'type': 'object', 'properties': {'stock_symbol': {'type': 'string', 'description': "A valid stock ticker symbol (e.g., 'AAPL')."}}, 'required': ['stock_symbol']}}}]}}
2025-10-20 00:14:38,588 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/assistants
2025-10-20 00:14:38,589 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-10-20 00:14:38,661 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D35C9FE00>
2025-10-20 00:14:38,662 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028D35CB4EF0> server_hostname='api.openai.com' timeout=5.0
2025-10-20 00:14:38,721 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D361C0A50>
2025-10-20 00:14:38,721 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-10-20 00:14:38,722 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:38,722 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-10-20 00:14:38,722 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:38,723 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-10-20 00:14:39,296 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_26843c35f0ec6ff07ce2dae5c58e294a'), (b'openai-processing-ms', b'360'), (b'x-envoy-upstream-service-time', b'365'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=skWs6P4XHE7nGHrJaazH.QDj1.sK38Y2K8Qp9yhlR4Q-1760908480-1.0.1.1-zRQMTC3xEYvYB8w81MWaGcyg_w7OjeGtDjw2jNFABnPnqAC04C5pDgVSaQVcL0djkDcaKI_GXaD.9IO75jk.5nfwBb_KJFan1.rZ5B8eHNU; path=/; expires=Sun, 19-Oct-25 21:44:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LSJeISP4wnsyrXZi12MPlTPzsy9JQy7lL8wb0fr9Wak-1760908480358-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9913494effd2367a-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:39,297 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-10-20 00:14:39,297 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-10-20 00:14:39,297 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:39,297 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:39,298 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:39,298 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/assistants "200 OK" Headers([('date', 'Sun, 19 Oct 2025 21:14:40 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-version', '2020-10-01'), ('openai-organization', 'user-jebvekouxdcjevinhyvomruo'), ('openai-project', 'proj_AUiNf8QWoExEtI7XDBRe8ny7'), ('x-request-id', 'req_26843c35f0ec6ff07ce2dae5c58e294a'), ('openai-processing-ms', '360'), ('x-envoy-upstream-service-time', '365'), ('x-openai-proxy-wasm', 'v0.1'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=skWs6P4XHE7nGHrJaazH.QDj1.sK38Y2K8Qp9yhlR4Q-1760908480-1.0.1.1-zRQMTC3xEYvYB8w81MWaGcyg_w7OjeGtDjw2jNFABnPnqAC04C5pDgVSaQVcL0djkDcaKI_GXaD.9IO75jk.5nfwBb_KJFan1.rZ5B8eHNU; path=/; expires=Sun, 19-Oct-25 21:44:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=LSJeISP4wnsyrXZi12MPlTPzsy9JQy7lL8wb0fr9Wak-1760908480358-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9913494effd2367a-FRA'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-10-20 00:14:39,298 - openai._base_client - DEBUG - request_id: req_26843c35f0ec6ff07ce2dae5c58e294a
2025-10-20 00:14:39,311 - stockagents.core.analysis - INFO - Analyzing AAPL
2025-10-20 00:14:39,312 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/threads', 'headers': {'OpenAI-Beta': 'assistants=v2'}, 'files': None, 'idempotency_key': 'stainless-python-retry-515c0846-5409-475b-9764-c40c0cae85bc', 'json_data': {}}
2025-10-20 00:14:39,313 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/threads
2025-10-20 00:14:39,313 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-10-20 00:14:39,314 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:39,314 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-10-20 00:14:39,314 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:39,314 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-10-20 00:14:39,714 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_712004786f85844cd3a9858bde7e3304'), (b'openai-processing-ms', b'145'), (b'x-envoy-upstream-service-time', b'149'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'99134952ba17367a-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:39,715 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads "HTTP/1.1 200 OK"
2025-10-20 00:14:39,715 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-10-20 00:14:39,715 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:39,715 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:39,716 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:39,716 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/threads "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_712004786f85844cd3a9858bde7e3304', 'openai-processing-ms': '145', 'x-envoy-upstream-service-time': '149', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '99134952ba17367a-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:39,716 - openai._base_client - DEBUG - request_id: req_712004786f85844cd3a9858bde7e3304
2025-10-20 00:14:39,718 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages', 'headers': {'OpenAI-Beta': 'assistants=v2'}, 'files': None, 'idempotency_key': 'stainless-python-retry-13730e0d-0f16-44c9-8c7a-c92248bce6ac', 'json_data': {'content': 'Please analyze the stock: AAPL', 'role': 'user'}}
2025-10-20 00:14:39,719 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages
2025-10-20 00:14:39,719 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-10-20 00:14:39,720 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:39,720 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-10-20 00:14:39,720 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:39,720 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-10-20 00:14:40,140 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_18bde86e473d4ad71c29d56225ad75c3'), (b'openai-processing-ms', b'205'), (b'x-envoy-upstream-service-time', b'212'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349553b63367a-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:40,140 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages "HTTP/1.1 200 OK"
2025-10-20 00:14:40,140 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-10-20 00:14:40,141 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:40,141 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:40,141 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:40,141 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_18bde86e473d4ad71c29d56225ad75c3', 'openai-processing-ms': '205', 'x-envoy-upstream-service-time': '212', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349553b63367a-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:40,141 - openai._base_client - DEBUG - request_id: req_18bde86e473d4ad71c29d56225ad75c3
2025-10-20 00:14:40,151 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs', 'params': {}, 'headers': {'OpenAI-Beta': 'assistants=v2'}, 'files': None, 'idempotency_key': 'stainless-python-retry-08ec37e4-2c2b-49e0-84fe-a36c2525cd51', 'json_data': {'assistant_id': 'asst_TGWEeObMEANXXmGt3eIFYSUj'}}
2025-10-20 00:14:40,152 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs
2025-10-20 00:14:40,152 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-10-20 00:14:40,153 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:40,153 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-10-20 00:14:40,153 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:40,153 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-10-20 00:14:41,983 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_53f43cd61a8b9f6bcda8f57301a921e9'), (b'openai-processing-ms', b'1627'), (b'x-envoy-upstream-service-time', b'1630'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'99134957fcef367a-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:41,983 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs "HTTP/1.1 200 OK"
2025-10-20 00:14:41,983 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-10-20 00:14:41,984 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:41,984 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:41,984 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:41,984 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_53f43cd61a8b9f6bcda8f57301a921e9', 'openai-processing-ms': '1627', 'x-envoy-upstream-service-time': '1630', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '99134957fcef367a-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:41,985 - openai._base_client - DEBUG - request_id: req_53f43cd61a8b9f6bcda8f57301a921e9
2025-10-20 00:14:41,992 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:41,993 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:41,993 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:41,994 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:41,994 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:41,994 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:41,994 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:42,372 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_4728e06cd5e7cc5e3c9a276cb9629923'), (b'openai-processing-ms', b'165'), (b'x-envoy-upstream-service-time', b'169'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349637ce1367a-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:42,373 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:42,373 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:42,373 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:42,373 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:42,373 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:42,374 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_4728e06cd5e7cc5e3c9a276cb9629923', 'openai-processing-ms': '165', 'x-envoy-upstream-service-time': '169', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349637ce1367a-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:42,374 - openai._base_client - DEBUG - request_id: req_4728e06cd5e7cc5e3c9a276cb9629923
2025-10-20 00:14:43,375 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:43,375 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:43,376 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:43,376 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:43,376 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:43,377 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:43,377 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:43,743 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_ec338e7fc2382dffab9f8f4236e04236'), (b'openai-processing-ms', b'173'), (b'x-envoy-upstream-service-time', b'176'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9913496c1ae7367a-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:43,744 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:43,744 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:43,745 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:43,745 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:43,745 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:43,745 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_ec338e7fc2382dffab9f8f4236e04236', 'openai-processing-ms': '173', 'x-envoy-upstream-service-time': '176', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9913496c1ae7367a-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:43,745 - openai._base_client - DEBUG - request_id: req_ec338e7fc2382dffab9f8f4236e04236
2025-10-20 00:14:43,748 - stockagents.core.analysis - INFO - Run run_NXXfcVJYuZO2vqJgo06JT1aF requested tool NewsAndBuzzTool
2025-10-20 00:14:43,750 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAPL
2025-10-20 00:14:43,750 - yfinance - DEBUG - Entering get()
2025-10-20 00:14:43,750 - yfinance - DEBUG -  Entering _make_request()
2025-10-20 00:14:43,750 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAPL
2025-10-20 00:14:43,750 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'AAPL'}
2025-10-20 00:14:43,750 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-10-20 00:14:43,750 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:43,751 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:43,751 - yfinance - DEBUG -     Entering _get_cookie_basic()
2025-10-20 00:14:43,751 - yfinance - DEBUG -      Entering _load_cookie_curlCffi()
2025-10-20 00:14:43,753 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2025-10-20 00:14:43,753 - peewee - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['curlCffi', 1, 0])
2025-10-20 00:14:43,754 - yfinance - DEBUG -      Exiting _load_cookie_curlCffi()
2025-10-20 00:14:43,754 - yfinance - DEBUG - reusing persistent cookie
2025-10-20 00:14:43,754 - yfinance - DEBUG -     Exiting _get_cookie_basic()
2025-10-20 00:14:43,754 - yfinance - DEBUG -     Entering _get_crumb_basic()
2025-10-20 00:14:43,754 - yfinance - DEBUG -      Entering _get_cookie_basic()
2025-10-20 00:14:43,755 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:43,755 - yfinance - DEBUG -      Exiting _get_cookie_basic()
2025-10-20 00:14:44,050 - yfinance - DEBUG - crumb = 'bbS0PlPF/Lc'
2025-10-20 00:14:44,050 - yfinance - DEBUG -     Exiting _get_crumb_basic()
2025-10-20 00:14:44,051 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:44,051 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-10-20 00:14:45,379 - yfinance - DEBUG - response code=200
2025-10-20 00:14:45,379 - yfinance - DEBUG -  Exiting _make_request()
2025-10-20 00:14:45,379 - yfinance - DEBUG - Exiting get()
2025-10-20 00:14:45,380 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-10-20 00:14:45,380 - yfinance - DEBUG - Entering get()
2025-10-20 00:14:45,380 - yfinance - DEBUG -  Entering _make_request()
2025-10-20 00:14:45,380 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-10-20 00:14:45,380 - yfinance - DEBUG - params={'symbols': 'AAPL', 'formatted': 'false'}
2025-10-20 00:14:45,380 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-10-20 00:14:45,380 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:45,380 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:45,380 - yfinance - DEBUG -     Entering _get_cookie_basic()
2025-10-20 00:14:45,381 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:45,381 - yfinance - DEBUG -     Exiting _get_cookie_basic()
2025-10-20 00:14:45,381 - yfinance - DEBUG -     Entering _get_crumb_basic()
2025-10-20 00:14:45,381 - yfinance - DEBUG - reusing crumb
2025-10-20 00:14:45,381 - yfinance - DEBUG -     Exiting _get_crumb_basic()
2025-10-20 00:14:45,381 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:45,381 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-10-20 00:14:45,476 - yfinance - DEBUG - response code=200
2025-10-20 00:14:45,477 - yfinance - DEBUG -  Exiting _make_request()
2025-10-20 00:14:45,477 - yfinance - DEBUG - Exiting get()
2025-10-20 00:14:45,478 - yfinance - DEBUG - Entering get()
2025-10-20 00:14:45,478 - yfinance - DEBUG -  Entering _make_request()
2025-10-20 00:14:45,478 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/ws/fundamentals-timeseries/v1/finance/timeseries/AAPL?symbol=AAPL&type=trailingPegRatio&period1=1745107200&period2=1760918400
2025-10-20 00:14:45,478 - yfinance - DEBUG - params=None
2025-10-20 00:14:45,478 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-10-20 00:14:45,478 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:45,478 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:45,479 - yfinance - DEBUG -     Entering _get_cookie_basic()
2025-10-20 00:14:45,479 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:45,479 - yfinance - DEBUG -     Exiting _get_cookie_basic()
2025-10-20 00:14:45,479 - yfinance - DEBUG -     Entering _get_crumb_basic()
2025-10-20 00:14:45,479 - yfinance - DEBUG - reusing crumb
2025-10-20 00:14:45,479 - yfinance - DEBUG -     Exiting _get_crumb_basic()
2025-10-20 00:14:45,479 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:45,480 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-10-20 00:14:45,657 - yfinance - DEBUG - response code=200
2025-10-20 00:14:45,658 - yfinance - DEBUG -  Exiting _make_request()
2025-10-20 00:14:45,658 - yfinance - DEBUG - Exiting get()
2025-10-20 00:14:45,660 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): newsapi.org:443
2025-10-20 00:14:46,038 - urllib3.connectionpool - DEBUG - https://newsapi.org:443 "GET /v2/everything?q=%28AAPL+OR+%22AAPL%22+OR+%22Apple+Inc.%22+OR+%22Apple%22%29&language=en&sortBy=publishedAt&pageSize=15&domains=bloomberg.com%2Creuters.com%2Ccnbc.com%2Cmarketwatch.com%2Cwsj.com%2Cfool.com%2Cseekingalpha.com%2Cbenzinga.com%2Cyahoo.com%2Cfinance.yahoo.com&searchIn=title%2Cdescription HTTP/1.1" 200 None
2025-10-20 00:14:46,231 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-f0268813-0cbf-423e-816a-b255ce7ee61a', 'json_data': {'messages': [{'role': 'system', 'content': 'You analyze financial news sentiment.'}, {'role': 'user', 'content': 'You are a financial news analyst. Analyze the sentiment of the following news headlines about AAPL. Provide a JSON object with keys \'sentiment_score\' (a number between -1 and 1) and \'narrative\' (a short sentence summarizing the sentiment). Headlines: ["Apple announces five-year partnership as U.S. broadcast partner for Formula 1", "Evercore ISI Maintains Bullish Outlook for Apple Inc. (AAPL) in Latest Update", "McLaren Reaffirms Support for Piastri as Norris Faces Repercussions Over Singapore Clash", "Apple TV Secures Exclusive U.S. Broadcast Rights for Formula 1 Beginning in 2026", "Apple and Formula 1 ink five-year US streaming deal, bringing all races to Apple TV"]'}], 'model': 'gpt-4o-mini', 'max_tokens': 250, 'response_format': {'type': 'json_object'}, 'temperature': 0.2}}
2025-10-20 00:14:46,231 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-10-20 00:14:46,232 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-10-20 00:14:46,288 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D36384050>
2025-10-20 00:14:46,288 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028D361FD010> server_hostname='api.openai.com' timeout=5.0
2025-10-20 00:14:46,347 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D35EBF950>
2025-10-20 00:14:46,348 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-10-20 00:14:46,348 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:46,349 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-10-20 00:14:46,349 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:46,349 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-10-20 00:14:47,883 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-processing-ms', b'706'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'913'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999818'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_a50261ce86e345ceaf6e5c2e05632001'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=yztOdqGhBRdgfRlvyBnowBCwb9M4xII3a8VJMu8SxdA-1760908488-1.0.1.1-bHYhgjuvxQru8ijCf46mZDgrFFehxh9rr67KES45zL1LayiSIPKW53.WkK3aPEqRzvj1KUOWO6LRn9ptmEqXORm6T7qriSdKhi0NlkWMMZ4; path=/; expires=Sun, 19-Oct-25 21:44:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=0NhADphJfw6ygOLEQ4h.WtzySPwthF0d4TwFuRobeX0-1760908488946-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9913497ea81818cd-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:47,884 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-20 00:14:47,884 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-10-20 00:14:47,891 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:47,891 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:47,891 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:47,892 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sun, 19 Oct 2025 21:14:48 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-jebvekouxdcjevinhyvomruo'), ('openai-processing-ms', '706'), ('openai-project', 'proj_AUiNf8QWoExEtI7XDBRe8ny7'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '913'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999818'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '2ms'), ('x-request-id', 'req_a50261ce86e345ceaf6e5c2e05632001'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=yztOdqGhBRdgfRlvyBnowBCwb9M4xII3a8VJMu8SxdA-1760908488-1.0.1.1-bHYhgjuvxQru8ijCf46mZDgrFFehxh9rr67KES45zL1LayiSIPKW53.WkK3aPEqRzvj1KUOWO6LRn9ptmEqXORm6T7qriSdKhi0NlkWMMZ4; path=/; expires=Sun, 19-Oct-25 21:44:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=0NhADphJfw6ygOLEQ4h.WtzySPwthF0d4TwFuRobeX0-1760908488946-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9913497ea81818cd-FRA'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-10-20 00:14:47,892 - openai._base_client - DEBUG - request_id: req_a50261ce86e345ceaf6e5c2e05632001
2025-10-20 00:14:47,901 - stockagents.tools.news_and_buzz - INFO - News sentiment for AAPL: Score=0.80, Articles=15, Buzz=3.75x, Narrative='The headlines reflect a positive sentiment towards Apple, highlighting strategic partnerships and bu'
2025-10-20 00:14:47,902 - stockagents.core.analysis - INFO - Tool NewsAndBuzzTool completed
2025-10-20 00:14:47,902 - stockagents.core.analysis - INFO - Run run_NXXfcVJYuZO2vqJgo06JT1aF requested tool VolumeAndTechnicalsTool
2025-10-20 00:14:47,902 - yfinance - DEBUG - Entering history()
2025-10-20 00:14:47,904 - peewee - DEBUG - ('CREATE TABLE IF NOT EXISTS "_tz_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2025-10-20 00:14:47,905 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_tz_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AAPL', 1, 0])
2025-10-20 00:14:47,972 - yfinance - DEBUG -  Entering history()
2025-10-20 00:14:47,972 - yfinance - DEBUG - AAPL: Yahoo GET parameters: {'range': '3mo', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-10-20 00:14:47,972 - yfinance - DEBUG -   Entering get()
2025-10-20 00:14:47,972 - yfinance - DEBUG -    Entering _make_request()
2025-10-20 00:14:47,973 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AAPL
2025-10-20 00:14:47,973 - yfinance - DEBUG - params={'range': '3mo', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-10-20 00:14:47,973 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-10-20 00:14:47,973 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:47,973 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:47,973 - yfinance - DEBUG -       Entering _get_cookie_basic()
2025-10-20 00:14:47,973 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:47,973 - yfinance - DEBUG -       Exiting _get_cookie_basic()
2025-10-20 00:14:47,973 - yfinance - DEBUG -       Entering _get_crumb_basic()
2025-10-20 00:14:47,973 - yfinance - DEBUG - reusing crumb
2025-10-20 00:14:47,974 - yfinance - DEBUG -       Exiting _get_crumb_basic()
2025-10-20 00:14:47,974 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:47,974 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-10-20 00:14:48,164 - yfinance - DEBUG - response code=200
2025-10-20 00:14:48,164 - yfinance - DEBUG -    Exiting _make_request()
2025-10-20 00:14:48,164 - yfinance - DEBUG -   Exiting get()
2025-10-20 00:14:48,166 - yfinance - DEBUG - AAPL: yfinance received OHLC data: 2025-07-18 13:30:00 -> 2025-10-17 13:30:00
2025-10-20 00:14:48,169 - yfinance - DEBUG - AAPL: OHLC after cleaning: 2025-07-18 09:30:00-04:00 -> 2025-10-17 09:30:00-04:00
2025-10-20 00:14:48,174 - yfinance - DEBUG - AAPL: OHLC after combining events: 2025-07-18 00:00:00-04:00 -> 2025-10-17 00:00:00-04:00
2025-10-20 00:14:48,177 - yfinance - DEBUG - AAPL: yfinance returning OHLC: 2025-07-18 00:00:00-04:00 -> 2025-10-17 00:00:00-04:00
2025-10-20 00:14:48,178 - yfinance - DEBUG -  Exiting history()
2025-10-20 00:14:48,178 - yfinance - DEBUG - Exiting history()
2025-10-20 00:14:48,179 - stockagents.tools.volume_and_technicals - INFO - Technical analysis for AAPL: RSI=56.50, Volume Ratio=0.93, Signal=Bearish Momentum, MACD Status=No Crossover
2025-10-20 00:14:48,179 - stockagents.core.analysis - INFO - Tool VolumeAndTechnicalsTool completed
2025-10-20 00:14:48,179 - stockagents.core.analysis - INFO - Run run_NXXfcVJYuZO2vqJgo06JT1aF requested tool CorporateEventsTool
2025-10-20 00:14:48,180 - yfinance - DEBUG - Entering _get_earnings_dates_using_scrape()
2025-10-20 00:14:48,180 - yfinance - DEBUG -  Entering get()
2025-10-20 00:14:48,180 - yfinance - DEBUG -   Entering _make_request()
2025-10-20 00:14:48,180 - yfinance - DEBUG - url=https://finance.yahoo.com/calendar/earnings?symbol=AAPL&offset=0&size=25
2025-10-20 00:14:48,180 - yfinance - DEBUG - params=None
2025-10-20 00:14:48,180 - yfinance - DEBUG -    Entering _get_cookie_and_crumb()
2025-10-20 00:14:48,180 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:48,180 - yfinance - DEBUG -     Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:48,181 - yfinance - DEBUG -      Entering _get_cookie_basic()
2025-10-20 00:14:48,181 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:48,181 - yfinance - DEBUG -      Exiting _get_cookie_basic()
2025-10-20 00:14:48,181 - yfinance - DEBUG -      Entering _get_crumb_basic()
2025-10-20 00:14:48,181 - yfinance - DEBUG - reusing crumb
2025-10-20 00:14:48,181 - yfinance - DEBUG -      Exiting _get_crumb_basic()
2025-10-20 00:14:48,181 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:48,181 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb()
2025-10-20 00:14:49,500 - yfinance - DEBUG - response code=200
2025-10-20 00:14:49,501 - yfinance - DEBUG -   Exiting _make_request()
2025-10-20 00:14:49,501 - yfinance - DEBUG -  Exiting get()
2025-10-20 00:14:49,569 - httpcore.connection - DEBUG - close.started
2025-10-20 00:14:49,570 - httpcore.connection - DEBUG - close.complete
2025-10-20 00:14:49,622 - yfinance - DEBUG - Exiting _get_earnings_dates_using_scrape()
2025-10-20 00:14:49,622 - stockagents.core.analysis - INFO - Tool CorporateEventsTool completed
2025-10-20 00:14:49,623 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF/submit_tool_outputs', 'headers': {'OpenAI-Beta': 'assistants=v2'}, 'files': None, 'idempotency_key': 'stainless-python-retry-96b1f287-5769-450b-89f4-51943d7b6f34', 'json_data': {'tool_outputs': [{'tool_call_id': 'call_5uiYxWKC61lV0bf3W7M8H5o4', 'output': '{"sentiment_score": 0.8, "narrative": "The headlines reflect a positive sentiment towards Apple, highlighting strategic partnerships and bullish outlooks.", "buzz_factor": 3.75, "top_headlines": ["Apple announces five-year partnership as U.S. broadcast partner for Formula 1", "Evercore ISI Maintains Bullish Outlook for Apple Inc. (AAPL) in Latest Update", "McLaren Reaffirms Support for Piastri as Norris Faces Repercussions Over Singapore Clash", "Apple TV Secures Exclusive U.S. Broadcast Rights for Formula 1 Beginning in 2026", "Apple and Formula 1 ink five-year US streaming deal, bringing all races to Apple TV"], "article_links": [{"title": "Apple announces five-year partnership as U.S. broadcast partner for Formula 1", "url": "https://sports.yahoo.com/article/apple-announces-five-partnership-u-130512518.html", "source": "NewsAPI"}, {"title": "Evercore ISI Maintains Bullish Outlook for Apple Inc. (AAPL) in Latest Update", "url": "https://finance.yahoo.com/news/evercore-isi-maintains-bullish-outlook-055645889.html", "source": "NewsAPI"}, {"title": "McLaren Reaffirms Support for Piastri as Norris Faces Repercussions Over Singapore Clash", "url": "https://sports.yahoo.com/article/mclaren-reaffirms-support-piastri-norris-162221215.html", "source": "NewsAPI"}, {"title": "Apple TV Secures Exclusive U.S. Broadcast Rights for Formula 1 Beginning in 2026", "url": "https://sports.yahoo.com/article/apple-tv-secures-exclusive-u-153000361.html", "source": "NewsAPI"}, {"title": "Apple and Formula 1 ink five-year US streaming deal, bringing all races to Apple TV", "url": "https://sports.yahoo.com/article/apple-formula-1-ink-five-134518416.html", "source": "NewsAPI"}], "source_count": 1, "sources_used": ["NewsAPI"], "source_breakdown": [{"source": "NewsAPI", "count": 15}]}'}, {'tool_call_id': 'call_UvVWoIsxIyO72PZj6XvIlM9O', 'output': '{"volume_spike_ratio": 0.9290546239791762, "technical_signal": "Bearish Momentum", "rsi": 56.5, "macd_signal_status": "No Crossover"}'}, {'tool_call_id': 'call_fp8MRnLoJzpxXVkgXq2IcOnS', 'output': '{"upcoming_earnings_date": "2025-10-30", "has_upcoming_event": true}'}]}}
2025-10-20 00:14:49,624 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF/submit_tool_outputs
2025-10-20 00:14:49,624 - httpcore.connection - DEBUG - close.started
2025-10-20 00:14:49,625 - httpcore.connection - DEBUG - close.complete
2025-10-20 00:14:49,625 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-10-20 00:14:49,680 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D36FB83E0>
2025-10-20 00:14:49,681 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028D35CB4EF0> server_hostname='api.openai.com' timeout=5.0
2025-10-20 00:14:49,738 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D36FA30B0>
2025-10-20 00:14:49,738 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-10-20 00:14:49,738 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:49,739 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-10-20 00:14:49,739 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:49,739 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-10-20 00:14:50,453 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_d9ff1ca087c90acc7ffcfaf1c5f0f9c5'), (b'openai-processing-ms', b'501'), (b'x-envoy-upstream-service-time', b'503'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'99134993ddb4e860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:50,453 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF/submit_tool_outputs "HTTP/1.1 200 OK"
2025-10-20 00:14:50,454 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-10-20 00:14:50,454 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:50,455 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:50,455 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:50,455 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF/submit_tool_outputs "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_d9ff1ca087c90acc7ffcfaf1c5f0f9c5', 'openai-processing-ms': '501', 'x-envoy-upstream-service-time': '503', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '99134993ddb4e860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:50,456 - openai._base_client - DEBUG - request_id: req_d9ff1ca087c90acc7ffcfaf1c5f0f9c5
2025-10-20 00:14:50,456 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:50,457 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:50,457 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:50,458 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:50,458 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:50,458 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:50,458 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:50,823 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_22b7a062a292a0be8148a1bbc023a575'), (b'openai-processing-ms', b'167'), (b'x-envoy-upstream-service-time', b'170'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349985dc5e860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:50,824 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:50,824 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:50,825 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:50,825 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:50,825 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:50,825 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_22b7a062a292a0be8148a1bbc023a575', 'openai-processing-ms': '167', 'x-envoy-upstream-service-time': '170', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349985dc5e860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:50,826 - openai._base_client - DEBUG - request_id: req_22b7a062a292a0be8148a1bbc023a575
2025-10-20 00:14:51,827 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:51,827 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:51,828 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:51,828 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:51,828 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:51,828 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:51,828 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:52,199 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_8d9e91990c7932cc2e54e52a4a465b46'), (b'openai-processing-ms', b'169'), (b'x-envoy-upstream-service-time', b'173'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349a0eddee860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:52,199 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:52,200 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:52,200 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:52,200 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:52,200 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:52,200 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_8d9e91990c7932cc2e54e52a4a465b46', 'openai-processing-ms': '169', 'x-envoy-upstream-service-time': '173', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349a0eddee860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:52,201 - openai._base_client - DEBUG - request_id: req_8d9e91990c7932cc2e54e52a4a465b46
2025-10-20 00:14:53,202 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:53,203 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:53,203 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:53,204 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:53,204 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:53,204 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:53,204 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:53,577 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_804eecae9a61acefa952fa48b5d869ef'), (b'openai-processing-ms', b'169'), (b'x-envoy-upstream-service-time', b'173'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349a98db4e860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:53,578 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:53,578 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:53,578 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:53,578 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:53,578 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:53,579 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_804eecae9a61acefa952fa48b5d869ef', 'openai-processing-ms': '169', 'x-envoy-upstream-service-time': '173', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349a98db4e860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:53,579 - openai._base_client - DEBUG - request_id: req_804eecae9a61acefa952fa48b5d869ef
2025-10-20 00:14:54,580 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:54,581 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:54,581 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:54,582 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:54,582 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:54,582 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:54,583 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:55,002 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_65039bb410e794f80bf68f293afe1e19'), (b'openai-processing-ms', b'220'), (b'x-envoy-upstream-service-time', b'231'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349b22d0fe860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:55,002 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:55,002 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:55,003 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:55,003 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:55,003 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:55,003 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_65039bb410e794f80bf68f293afe1e19', 'openai-processing-ms': '220', 'x-envoy-upstream-service-time': '231', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349b22d0fe860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:55,003 - openai._base_client - DEBUG - request_id: req_65039bb410e794f80bf68f293afe1e19
2025-10-20 00:14:56,004 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:56,005 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:56,005 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:56,006 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:56,006 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:56,006 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:56,006 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:56,354 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_a20aaa5add7ad330d5315c961e25cf58'), (b'openai-processing-ms', b'143'), (b'x-envoy-upstream-service-time', b'146'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349bb0c9de860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:56,355 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:56,355 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:56,356 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:56,356 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:56,356 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:56,357 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_a20aaa5add7ad330d5315c961e25cf58', 'openai-processing-ms': '143', 'x-envoy-upstream-service-time': '146', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349bb0c9de860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:56,357 - openai._base_client - DEBUG - request_id: req_a20aaa5add7ad330d5315c961e25cf58
2025-10-20 00:14:57,358 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF', 'headers': {'OpenAI-Beta': 'assistants=v2'}}
2025-10-20 00:14:57,359 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF
2025-10-20 00:14:57,359 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:57,360 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:57,360 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:57,360 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:57,360 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:57,746 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_b1923d6f9ac835a0315463bb6c92fca4'), (b'openai-processing-ms', b'180'), (b'x-envoy-upstream-service-time', b'185'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349c37c19e860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:57,746 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "HTTP/1.1 200 OK"
2025-10-20 00:14:57,747 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:57,748 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:57,748 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:57,748 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:57,748 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/runs/run_NXXfcVJYuZO2vqJgo06JT1aF "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_b1923d6f9ac835a0315463bb6c92fca4', 'openai-processing-ms': '180', 'x-envoy-upstream-service-time': '185', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349c37c19e860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:57,748 - openai._base_client - DEBUG - request_id: req_b1923d6f9ac835a0315463bb6c92fca4
2025-10-20 00:14:57,749 - stockagents.core.analysis - INFO - Run run_NXXfcVJYuZO2vqJgo06JT1aF reached terminal status: completed
2025-10-20 00:14:57,753 - openai._base_client - DEBUG - Request options: {'method': 'get', 'url': '/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages', 'params': {}, 'headers': {'OpenAI-Beta': 'assistants=v2'}, 'post_parser': <function SyncAPIClient._request_api_list.<locals>._parser at 0x0000028D35D08A40>, 'json_data': None}
2025-10-20 00:14:57,754 - openai._base_client - DEBUG - Sending HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages
2025-10-20 00:14:57,755 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-10-20 00:14:57,755 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:57,755 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-10-20 00:14:57,755 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:57,755 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-10-20 00:14:57,997 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:14:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'x-request-id', b'req_b40ff64535a888609a4b57aa3fa2dc7b'), (b'openai-processing-ms', b'43'), (b'x-envoy-upstream-service-time', b'46'), (b'x-openai-proxy-wasm', b'v0.1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349c5f86de860-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:57,998 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages "HTTP/1.1 200 OK"
2025-10-20 00:14:57,998 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-10-20 00:14:57,998 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:57,999 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:57,999 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:57,999 - openai._base_client - DEBUG - HTTP Response: GET https://api.openai.com/v1/threads/thread_UKnn9DCAzSqVgXoOlTd2bvf8/messages "200 OK" Headers({'date': 'Sun, 19 Oct 2025 21:14:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'openai-version': '2020-10-01', 'openai-organization': 'user-jebvekouxdcjevinhyvomruo', 'openai-project': 'proj_AUiNf8QWoExEtI7XDBRe8ny7', 'x-request-id': 'req_b40ff64535a888609a4b57aa3fa2dc7b', 'openai-processing-ms': '43', 'x-envoy-upstream-service-time': '46', 'x-openai-proxy-wasm': 'v0.1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '991349c5f86de860-FRA', 'content-encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'})
2025-10-20 00:14:57,999 - openai._base_client - DEBUG - request_id: req_b40ff64535a888609a4b57aa3fa2dc7b
2025-10-20 00:14:58,001 - stockagents.core.analysis - INFO - Full assistant response for AAPL:
## ניתוח מניה: AAPL (Apple Inc.)

### תחזית
צפויה ירידה במחיר בשבועות הקרובים עקב מומנטום פושר עם עדות למגמה שלילית, על אף הסנטימנט חיובי מאוד מהחדשות האחרונות.

### ציון ביטחון
6

### הסבר סיבתי
- **סנטימנט חדשותי חיובי:** הסנטימנט התקשורתי חיובי מאוד עם ציון של 0.8. כותרות כמו:
  - [Apple announces five-year partnership as U.S. broadcast partner for Formula 1](https://sports.yahoo.com/article/apple-announces-five-partnership-u-130512518.html)
  - [Evercore ISI Maintains Bullish Outlook for App
2025-10-20 00:14:58,002 - stockagents.core.analysis - INFO - Forecast extracted using pattern #5
2025-10-20 00:14:58,003 - stockagents.core.analysis - INFO - Extracted for AAPL - Confidence: 6.0, Forecast: צפויה ירידה במחיר בשבועות הקרובים עקב מומנטום פושר עם עדות למגמה שלילית, על אף הסנטימנט חיובי מאוד מהחדשות האחרונות.
2025-10-20 00:14:58,004 - yfinance - DEBUG - get_raw_json(): https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAPL
2025-10-20 00:14:58,004 - yfinance - DEBUG - Entering get()
2025-10-20 00:14:58,004 - yfinance - DEBUG -  Entering _make_request()
2025-10-20 00:14:58,004 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v10/finance/quoteSummary/AAPL
2025-10-20 00:14:58,004 - yfinance - DEBUG - params={'modules': 'financialData,quoteType,defaultKeyStatistics,assetProfile,summaryDetail', 'corsDomain': 'finance.yahoo.com', 'formatted': 'false', 'symbol': 'AAPL'}
2025-10-20 00:14:58,005 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-10-20 00:14:58,005 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:58,005 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:58,005 - yfinance - DEBUG -     Entering _get_cookie_basic()
2025-10-20 00:14:58,005 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:58,005 - yfinance - DEBUG -     Exiting _get_cookie_basic()
2025-10-20 00:14:58,005 - yfinance - DEBUG -     Entering _get_crumb_basic()
2025-10-20 00:14:58,005 - yfinance - DEBUG - reusing crumb
2025-10-20 00:14:58,005 - yfinance - DEBUG -     Exiting _get_crumb_basic()
2025-10-20 00:14:58,006 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:58,006 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-10-20 00:14:58,185 - yfinance - DEBUG - response code=200
2025-10-20 00:14:58,186 - yfinance - DEBUG -  Exiting _make_request()
2025-10-20 00:14:58,186 - yfinance - DEBUG - Exiting get()
2025-10-20 00:14:58,186 - yfinance - DEBUG - get_raw_json(): https://query1.finance.yahoo.com/v7/finance/quote?
2025-10-20 00:14:58,186 - yfinance - DEBUG - Entering get()
2025-10-20 00:14:58,186 - yfinance - DEBUG -  Entering _make_request()
2025-10-20 00:14:58,186 - yfinance - DEBUG - url=https://query1.finance.yahoo.com/v7/finance/quote?
2025-10-20 00:14:58,186 - yfinance - DEBUG - params={'symbols': 'AAPL', 'formatted': 'false'}
2025-10-20 00:14:58,186 - yfinance - DEBUG -   Entering _get_cookie_and_crumb()
2025-10-20 00:14:58,187 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:58,187 - yfinance - DEBUG -    Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:58,187 - yfinance - DEBUG -     Entering _get_cookie_basic()
2025-10-20 00:14:58,187 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:58,187 - yfinance - DEBUG -     Exiting _get_cookie_basic()
2025-10-20 00:14:58,187 - yfinance - DEBUG -     Entering _get_crumb_basic()
2025-10-20 00:14:58,187 - yfinance - DEBUG - reusing crumb
2025-10-20 00:14:58,187 - yfinance - DEBUG -     Exiting _get_crumb_basic()
2025-10-20 00:14:58,187 - yfinance - DEBUG -    Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:58,188 - yfinance - DEBUG -   Exiting _get_cookie_and_crumb()
2025-10-20 00:14:58,283 - yfinance - DEBUG - response code=200
2025-10-20 00:14:58,283 - yfinance - DEBUG -  Exiting _make_request()
2025-10-20 00:14:58,283 - yfinance - DEBUG - Exiting get()
2025-10-20 00:14:58,284 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): newsapi.org:443
2025-10-20 00:14:58,559 - urllib3.connectionpool - DEBUG - https://newsapi.org:443 "GET /v2/everything?q=%28AAPL+OR+%22AAPL%22+OR+%22Apple+Inc.%22+OR+%22Apple%22%29&language=en&sortBy=publishedAt&pageSize=15&domains=bloomberg.com%2Creuters.com%2Ccnbc.com%2Cmarketwatch.com%2Cwsj.com%2Cfool.com%2Cseekingalpha.com%2Cbenzinga.com%2Cyahoo.com%2Cfinance.yahoo.com&searchIn=title%2Cdescription HTTP/1.1" 200 None
2025-10-20 00:14:58,751 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-bc8dac8a-da14-4d99-a12f-c68d725d3ca3', 'json_data': {'messages': [{'role': 'system', 'content': 'You analyze financial news sentiment.'}, {'role': 'user', 'content': 'You are a financial news analyst. Analyze the sentiment of the following news headlines about AAPL. Provide a JSON object with keys \'sentiment_score\' (a number between -1 and 1) and \'narrative\' (a short sentence summarizing the sentiment). Headlines: ["Apple announces five-year partnership as U.S. broadcast partner for Formula 1", "Evercore ISI Maintains Bullish Outlook for Apple Inc. (AAPL) in Latest Update", "McLaren Reaffirms Support for Piastri as Norris Faces Repercussions Over Singapore Clash", "Apple TV Secures Exclusive U.S. Broadcast Rights for Formula 1 Beginning in 2026", "Apple and Formula 1 ink five-year US streaming deal, bringing all races to Apple TV"]'}], 'model': 'gpt-4o-mini', 'max_tokens': 250, 'response_format': {'type': 'json_object'}, 'temperature': 0.2}}
2025-10-20 00:14:58,752 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-10-20 00:14:58,752 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-10-20 00:14:58,807 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D361CF8A0>
2025-10-20 00:14:58,807 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028D36F5D490> server_hostname='api.openai.com' timeout=5.0
2025-10-20 00:14:58,868 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028D361CF790>
2025-10-20 00:14:58,868 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-10-20 00:14:58,869 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-10-20 00:14:58,869 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-10-20 00:14:58,869 - httpcore.http11 - DEBUG - send_request_body.complete
2025-10-20 00:14:58,869 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-10-20 00:14:59,726 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 19 Oct 2025 21:15:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-jebvekouxdcjevinhyvomruo'), (b'openai-processing-ms', b'623'), (b'openai-project', b'proj_AUiNf8QWoExEtI7XDBRe8ny7'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'655'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999818'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_9fcedecc15794e4f8c0e1e757c099f22'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=7Ld8KFQRzvOGLS4v2YhKTur.AAqj5Le6ijL9nb81IRw-1760908500-1.0.1.1-csUvS1VXdSYpwc4LWxPjPhb9aY1HuWqacUFIYqp32vdZM4AvmOCIQUb5wHQeNlslr7Kg_kYMBeM6QB2_BMBaLWBbuFHr_ZUTK5VRkM0Dyew; path=/; expires=Sun, 19-Oct-25 21:45:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=c8c5Ko7isukArE_yxjloPUBnt2O_V23Ktm.5edDIftg-1760908500790-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'991349ccead59f51-FRA'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-10-20 00:14:59,727 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-20 00:14:59,727 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-10-20 00:14:59,731 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-10-20 00:14:59,731 - httpcore.http11 - DEBUG - response_closed.started
2025-10-20 00:14:59,731 - httpcore.http11 - DEBUG - response_closed.complete
2025-10-20 00:14:59,731 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sun, 19 Oct 2025 21:15:00 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-jebvekouxdcjevinhyvomruo'), ('openai-processing-ms', '623'), ('openai-project', 'proj_AUiNf8QWoExEtI7XDBRe8ny7'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '655'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999818'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '2ms'), ('x-request-id', 'req_9fcedecc15794e4f8c0e1e757c099f22'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=7Ld8KFQRzvOGLS4v2YhKTur.AAqj5Le6ijL9nb81IRw-1760908500-1.0.1.1-csUvS1VXdSYpwc4LWxPjPhb9aY1HuWqacUFIYqp32vdZM4AvmOCIQUb5wHQeNlslr7Kg_kYMBeM6QB2_BMBaLWBbuFHr_ZUTK5VRkM0Dyew; path=/; expires=Sun, 19-Oct-25 21:45:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=c8c5Ko7isukArE_yxjloPUBnt2O_V23Ktm.5edDIftg-1760908500790-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '991349ccead59f51-FRA'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-10-20 00:14:59,731 - openai._base_client - DEBUG - request_id: req_9fcedecc15794e4f8c0e1e757c099f22
2025-10-20 00:14:59,732 - stockagents.tools.news_and_buzz - INFO - News sentiment for AAPL: Score=0.80, Articles=15, Buzz=3.75x, Narrative='The headlines reflect a positive sentiment towards Apple, highlighting strategic partnerships and bu'
2025-10-20 00:14:59,733 - yfinance - DEBUG - Entering history()
2025-10-20 00:14:59,734 - peewee - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_tz_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['AAPL', 1, 0])
2025-10-20 00:14:59,734 - yfinance - DEBUG -  Entering history()
2025-10-20 00:14:59,734 - yfinance - DEBUG - AAPL: Yahoo GET parameters: {'range': '3mo', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-10-20 00:14:59,735 - yfinance - DEBUG -   Entering get()
2025-10-20 00:14:59,735 - yfinance - DEBUG -    Entering _make_request()
2025-10-20 00:14:59,735 - yfinance - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/AAPL
2025-10-20 00:14:59,735 - yfinance - DEBUG - params={'range': '3mo', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-10-20 00:14:59,735 - yfinance - DEBUG -     Entering _get_cookie_and_crumb()
2025-10-20 00:14:59,735 - yfinance - DEBUG - cookie_mode = 'basic'
2025-10-20 00:14:59,735 - yfinance - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-10-20 00:14:59,736 - yfinance - DEBUG -       Entering _get_cookie_basic()
2025-10-20 00:14:59,736 - yfinance - DEBUG - reusing cookie
2025-10-20 00:14:59,736 - yfinance - DEBUG -       Exiting _get_cookie_basic()
2025-10-20 00:14:59,736 - yfinance - DEBUG -       Entering _get_crumb_basic()
2025-10-20 00:14:59,736 - yfinance - DEBUG - reusing crumb
2025-10-20 00:14:59,736 - yfinance - DEBUG -       Exiting _get_crumb_basic()
2025-10-20 00:14:59,736 - yfinance - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-10-20 00:14:59,736 - yfinance - DEBUG -     Exiting _get_cookie_and_crumb()
2025-10-20 00:14:59,923 - yfinance - DEBUG - response code=200
2025-10-20 00:14:59,923 - yfinance - DEBUG -    Exiting _make_request()
2025-10-20 00:14:59,924 - yfinance - DEBUG -   Exiting get()
2025-10-20 00:14:59,925 - yfinance - DEBUG - AAPL: yfinance received OHLC data: 2025-07-18 13:30:00 -> 2025-10-17 13:30:00
2025-10-20 00:14:59,926 - yfinance - DEBUG - AAPL: OHLC after cleaning: 2025-07-18 09:30:00-04:00 -> 2025-10-17 09:30:00-04:00
2025-10-20 00:14:59,930 - yfinance - DEBUG - AAPL: OHLC after combining events: 2025-07-18 00:00:00-04:00 -> 2025-10-17 00:00:00-04:00
2025-10-20 00:14:59,933 - yfinance - DEBUG - AAPL: yfinance returning OHLC: 2025-07-18 00:00:00-04:00 -> 2025-10-17 00:00:00-04:00
2025-10-20 00:14:59,934 - yfinance - DEBUG -  Exiting history()
2025-10-20 00:14:59,934 - yfinance - DEBUG - Exiting history()
2025-10-20 00:14:59,935 - stockagents.tools.volume_and_technicals - INFO - Technical analysis for AAPL: RSI=56.50, Volume Ratio=0.93, Signal=Bearish Momentum, MACD Status=No Crossover
2025-10-20 00:14:59,935 - yfinance - DEBUG - Entering _get_earnings_dates_using_scrape()
2025-10-20 00:14:59,942 - httpcore.connection - DEBUG - close.started
2025-10-20 00:14:59,943 - httpcore.connection - DEBUG - close.complete
2025-10-20 00:15:00,054 - yfinance - DEBUG - Exiting _get_earnings_dates_using_scrape()
